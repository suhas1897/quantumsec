# System Architecture Overview

## ğŸ—ï¸ Full Stack CRUD System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER'S BROWSER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              React Application                            â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Public Home  â”‚  â”‚ Auth Login   â”‚  â”‚ Admin Panel  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  (Index.tsx) â”‚  â”‚ (Auth.tsx)   â”‚  â”‚ (Admin.tsx)  â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚       â†“                  â†“                   â†“            â”‚   â”‚
â”‚  â”‚  [Navbar]         [Login Form]       [Sidebar Menu]     â”‚   â”‚
â”‚  â”‚  [Sections]       [Signup Form]      [Content Pages]    â”‚   â”‚
â”‚  â”‚  [Display]                                              â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚        Admin Dashboard (Protected)                   â”‚ â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚   â”‚
â”‚  â”‚  â”‚                                                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Dashboard          Features Admin                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ Counts         â”œâ”€ List Features                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ Quick Links    â”œâ”€ Add Feature                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚                 â”œâ”€ Edit Feature                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Programs Admin     â”œâ”€ Delete Feature                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ List Programs                                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ Add Program    Journey Admin                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ Edit Program   â”œâ”€ List Steps                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ Delete Program â”œâ”€ Add Step                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚                 â”œâ”€ Edit Step                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Outcomes Admin     â”œâ”€ Delete Step                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ List Stats                                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ Add Stat       Testimonials Admin                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ Edit Stat      â”œâ”€ List Reviews                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ Delete Stat    â”œâ”€ Add Review                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                    â”œâ”€ Edit Review                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                    â””â”€ Delete Review                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                                                       â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚  â”‚  â”‚ React Query      â”‚  â”‚ AuthContext      â”‚              â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚   â”‚
â”‚  â”‚  â”‚ useQuery()       â”‚  â”‚ user state       â”‚              â”‚   â”‚
â”‚  â”‚  â”‚ useMutation()    â”‚  â”‚ session state    â”‚              â”‚   â”‚
â”‚  â”‚  â”‚ Data caching     â”‚  â”‚ isAdmin check    â”‚              â”‚   â”‚
â”‚  â”‚  â”‚ Auto-refetch     â”‚  â”‚ signIn/signUp    â”‚              â”‚   â”‚
â”‚  â”‚  â”‚ Loading states   â”‚  â”‚ signOut          â”‚              â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                    â”‚
â”‚                    [HTTP/WebSocket]                              â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SUPABASE CLOUD                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Authentication (auth.users)                   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Manages:  Email, Password, Sessions, JWT Tokens           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Authorization (user_roles)                    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Table: user_roles                                          â”‚ â”‚
â”‚  â”‚  â”œâ”€ user_id (FK to auth.users)                            â”‚ â”‚
â”‚  â”‚  â”œâ”€ role ('admin' or 'user')                              â”‚ â”‚
â”‚  â”‚  â””â”€ created_at                                             â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  Functions:                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€ has_role(user_id, role) â†’ boolean                     â”‚ â”‚
â”‚  â”‚  â””â”€ is_admin() â†’ boolean                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Content Tables (with RLS)                     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  features                  programs                         â”‚ â”‚
â”‚  â”‚  â”œâ”€ id (UUID)             â”œâ”€ id (UUID)                    â”‚ â”‚
â”‚  â”‚  â”œâ”€ title                 â”œâ”€ title                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ description           â”œâ”€ description                  â”‚ â”‚
â”‚  â”‚  â”œâ”€ icon_name             â”œâ”€ category                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ display_order         â”œâ”€ duration                     â”‚ â”‚
â”‚  â”‚  â”œâ”€ created_at            â”œâ”€ level                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ updated_at            â”œâ”€ tools[]                      â”‚ â”‚
â”‚  â”‚  â””â”€ RLS: PUBLIC SELECT    â”œâ”€ outcomes[]                   â”‚ â”‚
â”‚  â”‚        ADMIN ALL          â”œâ”€ created_at                   â”‚ â”‚
â”‚  â”‚                           â””â”€ RLS: PUBLIC SELECT           â”‚ â”‚
â”‚  â”‚                                 ADMIN ALL                 â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  journey_steps             outcomes                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ id (UUID)             â”œâ”€ id (UUID)                    â”‚ â”‚
â”‚  â”‚  â”œâ”€ title                 â”œâ”€ label                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ subtitle              â”œâ”€ value                        â”‚ â”‚
â”‚  â”‚  â”œâ”€ description           â”œâ”€ suffix                       â”‚ â”‚
â”‚  â”‚  â”œâ”€ icon_name             â”œâ”€ display_order                â”‚ â”‚
â”‚  â”‚  â”œâ”€ features[]            â”œâ”€ created_at                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ step_number           â”œâ”€ updated_at                   â”‚ â”‚
â”‚  â”‚  â”œâ”€ created_at            â””â”€ RLS: PUBLIC SELECT           â”‚ â”‚
â”‚  â”‚  â”œâ”€ updated_at                ADMIN ALL                   â”‚ â”‚
â”‚  â”‚  â””â”€ RLS: PUBLIC SELECT                                    â”‚ â”‚
â”‚  â”‚        ADMIN ALL          testimonials                     â”‚ â”‚
â”‚  â”‚                           â”œâ”€ id (UUID)                    â”‚ â”‚
â”‚  â”‚                           â”œâ”€ author_name                  â”‚ â”‚
â”‚  â”‚                           â”œâ”€ author_title                 â”‚ â”‚
â”‚  â”‚                           â”œâ”€ quote                        â”‚ â”‚
â”‚  â”‚                           â”œâ”€ avatar_url                   â”‚ â”‚
â”‚  â”‚                           â”œâ”€ display_order                â”‚ â”‚
â”‚  â”‚                           â”œâ”€ created_at                   â”‚ â”‚
â”‚  â”‚                           â””â”€ RLS: PUBLIC SELECT           â”‚ â”‚
â”‚  â”‚                                 ADMIN ALL                 â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                   â”‚
â”‚  Security:                                                        â”‚
â”‚  â”œâ”€ Row Level Security (RLS) enforces permissions at DB level    â”‚
â”‚  â”œâ”€ Public users can only SELECT (read)                          â”‚
â”‚  â”œâ”€ Only admin users can INSERT/UPDATE/DELETE                    â”‚
â”‚  â””â”€ Admin status checked via is_admin() function                 â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow: Login to Edit

```
1. USER OPENS APP
   â”‚
   â””â”€â†’ App.tsx initializes
       â””â”€â†’ AuthProvider wraps app
           â””â”€â†’ Checks for existing session
               â””â”€â†’ AuthContext queries is_admin()
                   â””â”€â†’ Sets isAdmin state

2. USER CLICKS LOGIN
   â”‚
   â””â”€â†’ Auth.tsx renders
       â””â”€â†’ User enters email/password
           â””â”€â†’ Calls supabase.auth.signInWithPassword()
               â””â”€â†’ AuthContext receives auth event
                   â””â”€â†’ Checks is_admin() RPC function
                       â””â”€â†’ Sets isAdmin = true (if admin role exists)

3. USER REDIRECTED TO ADMIN
   â”‚
   â””â”€â†’ Admin.tsx checks isAdmin
       â””â”€â†’ If true, shows sidebar with 6 sections
           â””â”€â†’ Each section is a separate admin page

4. USER CLICKS "Add Feature"
   â”‚
   â””â”€â†’ FeaturesAdmin.tsx opens dialog
       â””â”€â†’ User fills form
           â””â”€â†’ Clicks "Create"
               â””â”€â†’ createMutation triggers
                   â””â”€â†’ supabase.from("features").insert(data)
                       â””â”€â†’ DB RLS checks is_admin()
                           â””â”€â†’ If true: Insert succeeds
                           â””â”€â†’ If false: Insert fails

5. ON SUCCESS
   â”‚
   â””â”€â†’ React Query invalidates cache
       â””â”€â†’ useQuery automatically refetches
           â””â”€â†’ New feature appears in list
               â””â”€â†’ Toast shows "Created successfully"

6. USER CLICKS EDIT
   â”‚
   â””â”€â†’ setEditingFeature() populates form
       â””â”€â†’ Dialog opens with current values
           â””â”€â†’ User modifies data
               â””â”€â†’ Clicks "Update"
                   â””â”€â†’ updateMutation triggers
                       â””â”€â†’ supabase.from("features").update(data)
                           â””â”€â†’ DB RLS checks is_admin()
                               â””â”€â†’ Update succeeds/fails

7. USER CLICKS DELETE
   â”‚
   â””â”€â†’ AlertDialog confirms action
       â””â”€â†’ User clicks "Delete"
           â””â”€â†’ deleteMutation triggers
               â””â”€â†’ supabase.from("features").delete()
                   â””â”€â†’ DB RLS checks is_admin()
                       â””â”€â†’ Delete succeeds/fails
```

---

## ğŸ” Security Model

### Layer 1: Frontend
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Route Protection               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Admin.tsx checks:              â”‚
â”‚  â”œâ”€ if (!user) â†’ redirect /auth â”‚
â”‚  â”œâ”€ if (!isAdmin) â†’ redirect /  â”‚
â”‚  â””â”€ if isLoading â†’ show spinner â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Layer 2: Authentication
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Supabase Auth                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”œâ”€ Email/Password validation    â”‚
â”‚  â”œâ”€ Session management           â”‚
â”‚  â”œâ”€ JWT token generation         â”‚
â”‚  â””â”€ Auto token refresh           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Layer 3: Authorization (RLS)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Row Level Security              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  For SELECT:                     â”‚
â”‚  â”œâ”€ Allow public access (anyone) â”‚
â”‚                                  â”‚
â”‚  For INSERT/UPDATE/DELETE:       â”‚
â”‚  â”œâ”€ Check: is_admin() = true     â”‚
â”‚  â”œâ”€ If false â†’ reject operation  â”‚
â”‚  â””â”€ Database enforces rules      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Layer 4: Data Validation
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Form & Database Validation      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Frontend:                       â”‚
â”‚  â”œâ”€ Zod schema validation        â”‚
â”‚  â”œâ”€ Required fields check        â”‚
â”‚  â””â”€ User feedback                â”‚
â”‚                                  â”‚
â”‚  Backend:                        â”‚
â”‚  â”œâ”€ NOT NULL constraints         â”‚
â”‚  â”œâ”€ Type validation              â”‚
â”‚  â”œâ”€ Foreign key checks           â”‚
â”‚  â””â”€ Unique constraints           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Complete CRUD Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Content Type     â”‚ Create â”‚ Read     â”‚ Update â”‚ Delete â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Features         â”‚   âœ…   â”‚    âœ…    â”‚   âœ…   â”‚   âœ…   â”‚
â”‚ Programs         â”‚   âœ…   â”‚    âœ…    â”‚   âœ…   â”‚   âœ…   â”‚
â”‚ Journey Steps    â”‚   âœ…   â”‚    âœ…    â”‚   âœ…   â”‚   âœ…   â”‚
â”‚ Outcomes         â”‚   âœ…   â”‚    âœ…    â”‚   âœ…   â”‚   âœ…   â”‚
â”‚ Testimonials     â”‚   âœ…   â”‚    âœ…    â”‚   âœ…   â”‚   âœ…   â”‚
â”‚ User Roles       â”‚   âœ…   â”‚    âœ…    â”‚   âŒ   â”‚   âœ…   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Tech Stack

```
Frontend               Backend                  Database
â”œâ”€ React              â”œâ”€ Supabase Auth        â”œâ”€ PostgreSQL
â”œâ”€ TypeScript         â”œâ”€ Supabase PostgREST   â”œâ”€ Row Level Security
â”œâ”€ React Router       â”œâ”€ Supabase RLS         â”œâ”€ Functions
â”œâ”€ React Query        â”œâ”€ Real-time events     â”œâ”€ Migrations
â”œâ”€ shadcn/ui          â””â”€ File storage         â””â”€ Foreign keys
â”œâ”€ Framer Motion      
â”œâ”€ Tailwind CSS       Deployment
â””â”€ Vite              â””â”€ Supabase Cloud
```

---

## âœ¨ Key Features Implemented

- âœ… Complete CRUD for 5 content types
- âœ… Admin-only access control
- âœ… Form validation (Zod)
- âœ… Loading states & spinners
- âœ… Error handling & toast notifications
- âœ… Delete confirmations
- âœ… Automatic data refetching
- âœ… Responsive UI
- âœ… Dark mode support
- âœ… Real-time RLS enforcement
- âœ… Mobile-friendly admin panel
- âœ… Smooth animations (Framer Motion)

---

## ğŸš€ Deployment Ready

The entire system is production-ready:
- Database: Hosted on Supabase Cloud âœ…
- Auth: Supabase Auth with industry-standard security âœ…
- API: Automatic REST API from Supabase âœ…
- RLS: Database-level access control âœ…
- Frontend: Can deploy to Vercel, Netlify, etc. âœ…
